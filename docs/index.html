<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minimal Stopwatch with Dark Mode</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #232425;
      --secondary: #ededed;
      --accent: #343638;
      --card-bg: rgba(245,245,248,0.84);
      --shadow: 0 8px 48px 0 #13172018, 0 2px 12px 0 #fff6;
      --border: 2px solid #ececec;
      --lap-sep: #e3e4eb;
      --grey-btn: rgba(238,238,241,0.75);
      --backdrop-blur: blur(12px);
      --dark-primary: #ededed;
      --dark-secondary: #232425;
      --dark-accent: #ededed;
      --dark-card-bg: #232124ea;
      --dark-shadow: 0 8px 48px 0 #23212455, 0 2px 12px 0 #212428fa;
      --dark-border: 2px solid #232124;
      --dark-lap-sep: #35353b;
      --dark-grey-btn: #232124ee;
      --dark-backdrop-blur: blur(0px);
    }
    html, body {
      background: linear-gradient(135deg, #e5e8ea 0%, #f7f9fa 75%);
      min-height: 100vh;
      margin: 0;
      font-family: 'Share Tech Mono', 'Consolas', monospace;
      color: var(--primary);
      transition: background .27s;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: color .27s;
    }
    #container {
      position: relative;
      margin: 0 auto;
      background: var(--card-bg);
      border-radius: 23px;
      box-shadow: var(--shadow);
      padding: 38px 34px 22px 34px;
      min-width: 265px;
      width: 94vw;
      max-width: 370px;
      display: flex;
      flex-direction: column;
      align-items: center;
      backdrop-filter: var(--backdrop-blur);
      border: var(--border);
      transition: background .3s, box-shadow .3s, border .3s, backdrop-filter .3s;
      z-index: 100;
    }
    h1 {
      font-family: inherit;
      font-weight: 400;
      font-size: 1.03em;
      letter-spacing: .14em;
      color: var(--accent);
      opacity: 0.7;
      margin-bottom: 23px;
      margin-top: 18px;
      text-align: center;
      transition: color .3s;
      text-shadow: 0 2px 12px #e5e8eaaa;
    }
    #digital {
      font-family: 'Share Tech Mono', 'Consolas', monospace;
      font-size: 2.5em;
      color: var(--primary);
      background: transparent;
      letter-spacing: 0.09em;
      border-radius: 15px;
      font-variant-numeric: tabular-nums;
      margin-bottom: 29px;
      padding: 8px 3px 11px 3px;
      min-width: 260px;
      text-align: center;
      user-select: all;
      text-shadow: 0 2px 8px #e9ecee66, 0 0.5px 0px #fff;
      border: none;
      transition: color .3s, background .3s;
    }
    #btns {
      display: flex;
      gap: 13px;
      margin-bottom: 10px;
      flex-wrap: wrap;
      justify-content: center;
      width: 100%;
    }
    button {
      background: var(--grey-btn);
      color: var(--primary);
      font-family: inherit;
      border: 1.5px solid #cbcbcf;
      border-radius: 11px;
      outline: none;
      font-size: 1em;
      padding: 10px 22px;
      font-weight: 400;
      cursor: pointer;
      transition: background .13s, color .13s, border .13s, box-shadow .18s;
      letter-spacing: 1px;
      margin-bottom: 3px;
      margin-top: 3px;
      box-shadow: 0 2px 6px #e9ecee19;
    }
    button:hover, button:focus {
      background: #fff;
      color: #232425;
      border: 1.5px solid #767680;
      box-shadow: 0 2px 8px #cfcfd266;
    }
    #darkmode-toggle {
      position: absolute;
      top: 16px;
      right: 22px;
      background: none;
      border: none;
      color: var(--accent);
      font-size: 1.15em;
      padding: 10px 0 5px 0;
      margin-right: 1px;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: none;
      transition: color .3s, background .3s;
      opacity: 0.7;
    }
    #darkmode-toggle:hover {
      opacity: 1;
      background: #f0f0f099;
      color: #232425;
    }
    #laps {
      list-style: none;
      width: 100%;
      margin: 0;
      padding: 0;
      margin-top: 20px;
      font-size: 1em;
      max-height: 130px;
      overflow-y: auto;
    }
    #laps li {
      font-family: inherit;
      color: var(--primary);
      background: none;
      border-radius: 10px;
      margin-bottom: 3px;
      font-size: 1.01em;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 2px;
      border-bottom: 1px solid var(--lap-sep);
      opacity: 0.75;
      transition: color .3s, border-bottom .3s;
    }
    #laps li span {
      color: #8b8d93;
      opacity: 0.67;
      font-size: 0.91em;
      letter-spacing: 0.05em;
      margin-right: 8px;
      transition: color .3s;
    }
    /* Floating effect for the box */
    #container::after {
      content: "";
      pointer-events: none;
      position: absolute;
      left: 18px; top: 16px;
      right: 18px; bottom: 18px;
      border-radius: 23px;
      box-shadow: 0 16px 46px 0 #ececee38;
      z-index: -1;
      opacity: 0.88;
    }
    /* DARK MODE STYLES */
    .darkmode,
    .darkmode body {
      background: linear-gradient(135deg, #232124 0%, #131315 75%) !important;
      color: var(--dark-primary) !important;
    }
    .darkmode #container {
      background: var(--dark-card-bg) !important;
      color: var(--dark-primary) !important;
      box-shadow: var(--dark-shadow) !important;
      border: var(--dark-border) !important;
      backdrop-filter: var(--dark-backdrop-blur) !important;
    }
    .darkmode h1, .darkmode #digital {
      color: var(--dark-accent) !important;
      text-shadow: 0 2px 8px #23212460, 0 0.5px 0px #232124e0 !important;
    }
    .darkmode button {
      background: var(--dark-grey-btn) !important;
      color: var(--dark-primary) !important;
      border: 1.5px solid #35353b !important;
      box-shadow: 0 2px 8px #13131533 !important;
    }
    .darkmode #laps li {
      color: var(--dark-primary) !important;
      border-bottom: 1px solid var(--dark-lap-sep) !important;
    }
    .darkmode #laps li span {
      color: #cccfd2 !important;
    }
    .darkmode #darkmode-toggle {
      background: none !important;
      color: var(--dark-accent) !important;
    }
  </style>
</head>
<body>
  <h1>MINIMAL STOPWATCH</h1>
  <div id="container">
    <button id="darkmode-toggle" title="Toggle dark mode">&#x1F319;</button>
    <div id="digital">00:00:00.00</div>
    <div id="btns">
      <button id="start">START</button>
      <button id="pause">PAUSE</button>
      <button id="reset">RESET</button>
      <button id="lap">LAP</button>
    </div>
    <ul id="laps"></ul>
  </div>
  <script>
    let startTime = 0, elapsedTime = 0, timerInterval, isRunning = false, lapCount = 0;
    function formatTime(ms) {
      let dt = new Date(ms);
      let hr = dt.getUTCHours().toString().padStart(2, '0');
      let min = dt.getUTCMinutes().toString().padStart(2, '0');
      let sec = dt.getUTCSeconds().toString().padStart(2, '0');
      let centi = Math.floor(dt.getUTCMilliseconds() / 10).toString().padStart(2, '0');
      return `${hr}:${min}:${sec}.${centi}`;
    }
    function updateDisplay() {
      document.getElementById('digital').textContent = formatTime(elapsedTime);
    }
    document.getElementById('start').onclick = function() {
      if (!isRunning) {
        startTime = Date.now() - elapsedTime;
        timerInterval = setInterval(function() {
          elapsedTime = Date.now() - startTime;
          updateDisplay();
        }, 16);
        isRunning = true;
      }
    };
    document.getElementById('pause').onclick = function() {
      if (isRunning) {
        clearInterval(timerInterval);
        isRunning = false;
      }
    };
    document.getElementById('reset').onclick = function() {
      clearInterval(timerInterval);
      elapsedTime = 0;
      isRunning = false;
      lapCount = 0;
      updateDisplay();
      document.getElementById('laps').innerHTML = '';
    };
    document.getElementById('lap').onclick = function() {
      if (isRunning) {
        lapCount++;
        let lapTime = formatTime(elapsedTime);
        let li = document.createElement('li');
        li.innerHTML = `<span>Lap ${lapCount}</span> ${lapTime}`;
        document.getElementById('laps').appendChild(li);
        document.getElementById('laps').scrollTop = document.getElementById('laps').scrollHeight;
      }
    };
    updateDisplay();

    // DARK MODE TOGGLE
    const toggleBtn = document.getElementById('darkmode-toggle');
    toggleBtn.onclick = function() {
      if (!document.documentElement.classList.contains('darkmode')) {
        document.documentElement.classList.add('darkmode');
      } else {
        document.documentElement.classList.remove('darkmode');
      }
    };
  </script>
</body>
</html>
